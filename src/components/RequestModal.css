/* RequestModal styles (обновлённые) */

.rm-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 3030;
  padding: 20px; /* чтобы модал не прилипал к краю и был внутренний отступ */
  animation: fadeIn .18s;
}
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }

.rm-modal {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 10px 36px rgba(0,0,0,.18);
  width: 100%;
  max-width: 520px;
  box-sizing: border-box;
  position: relative;
  animation: popIn .16s;
  overflow: hidden; /* обрезаем тени и фокус, чтобы не выходило за скругление */
}
@keyframes popIn { from { transform: scale(.98); opacity: .6 } to { transform: scale(1); opacity: 1 } }

/* Внутренний контейнер делает содержимое скроллимым, а сам .rm-modal остаётся с clip */
.rm-inner {
  padding: 18px;
  max-height: calc(100vh - 80px); /* оставляем запас сверху/снизу */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Скрываем возможный вертикальный скролл-бар в WebKit, аккуратно */
.rm-inner::-webkit-scrollbar { width: 8px; }
.rm-inner::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.08); border-radius: 6px; }

/* Кнопка закрытия */
.rm-close {
  position: absolute;
  top: 8px; right: 10px;
  background: none;
  border: none;
  font-size: 1.2rem;
  color: #777;
  cursor: pointer;
  padding: 6px;
  z-index: 11;
}
.rm-close:hover { color: #222; }

.rm-title {
  text-align: center;
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 10px;
  color: #0b2a8a;
}

/* Steps bar (compact) */
.rm-steps-bar { display:flex; justify-content:center; gap:10px; margin-bottom:12px; }
.rm-step { display:flex; flex-direction:column; align-items:center; opacity:.7; }
.rm-step-num { width:30px; height:30px; border-radius:50%; background:#eef0fb; display:flex; align-items:center; justify-content:center; font-weight:600; margin-bottom:4px; border:2px solid #eef0fb; }
.rm-step.active .rm-step-num { background:#2f2dbb; color:#fff; border-color:#2f2dbb; }
.rm-step.done .rm-step-num { background:#27ae60; color:#fff; border-color:#27ae60; }
.rm-step-label { font-size:.72rem; color:#666; text-align:center; max-width:90px; }

/* Form */
.rm-form { display:flex; flex-direction:column; gap:10px; margin-bottom:6px; }
.rm-field { display:flex; flex-direction:column; gap:6px; }
.rm-input, .rm-form select, .rm-form input[type="date"] {
  width:100%;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid #d7dbe9;
  font-size:0.98rem;
  outline:none;
  transition:box-shadow .12s, border-color .12s;
  background: #fff;
  box-sizing: border-box;
}
.rm-input:focus { box-shadow: 0 6px 16px rgba(47,45,187,0.06); border-color:#6b7be0; }

.rm-label { font-weight:600; margin-bottom:6px; color:#2c3e50; }

/* Errors and success */
.rm-error { color:#b00020; font-size:0.88rem; margin-top:4px; background: rgba(176,0,32,0.03); padding:6px 8px; border-radius:6px; }
.rm-input.invalid { border-color:#b00020; box-shadow: none; }

.rm-success {
  text-align:center;
  padding:18px 12px;
}
.rm-success h3 { color:#27ae60; margin: 0 0 8px 0; }
.rm-success p { margin: 0; color:#333; }

/* Review */
.rm-review p { margin: 6px 0; line-height:1.35; }

/* Buttons */
.rm-btn-row { display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }
.rm-btn { padding:9px 14px; border-radius:8px; border:none; cursor:pointer; font-weight:600; font-size:0.95rem; display:inline-flex; align-items:center; gap:8px; }
.rm-btn-grey { background:#f0f2f7; color:#333; }
.rm-btn-blue { background:#1a237e; color:#fff; }
.rm-btn:disabled { opacity:.6; cursor:not-allowed; }

/* WhatsApp button (green) */
.rm-btn-whatsapp {
  background: #25D366;
  color: white;
  border: none;
  padding: 9px 14px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
}
.rm-btn-whatsapp svg { display: inline-block; vertical-align: middle; }
.rm-btn-whatsapp:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
.rm-btn-whatsapp:hover:not(:disabled) {
  filter: brightness(0.97);
}

/* Responsive tweaks */
@media (max-width:520px) {
  .rm-modal { max-width: 96vw; }
  .rm-inner { padding: 14px; max-height: calc(100vh - 60px); }
  .rm-step-label { font-size:.62rem; min-width:40px; }
}
